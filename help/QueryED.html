<html><head>
<link rel="stylesheet" href="http://categoricaldata.net/css/nstyle.css"><script src="http://categoricaldata.net/js/simple.js"></script></head><body><h1>example QueryED</h1><pre>
options
	always_reload = true
	
#####################################/

schema T = literal : sql {
	entities 
		T1 
		T2
	attributes
		id fk  : T1 -&gt; String
		id     : T2 -&gt; String
}

constraints D = literal : T {
	forall x y : T1 where x.id = y.id -&gt; where x = y
	forall x y : T2 where x.id = y.id -&gt; where x = y
	forall x   : T1                   -&gt; exists y : T2 where x.fk = y.id
}

constraints D0 = literal : T { }

#command check_id = check_query (identity T) D0 D

#####################################/

schema S1 = literal : sql {
	entities
		S
	attributes
		ssn : S -&gt; String	
}

constraints C1 = literal : S1 { }

query Q1 = literal : S1 -&gt; T {
	entity T1 -&gt; {from s:S
		attributes id -&gt; s.ssn  fk -&gt; s.ssn	
	}

	entity T2 -&gt; {from s:S
		attributes id -&gt; s.ssn
	}
}

#command check1 = check_query Q1 C1 D

instance I1 = literal : S1 {
	generators
		s : S
	equations
		s.ssn = "YYY-XXXX"	
}

instance J1 = eval Q1 I1

command check1_redundant = check D J1

#####################################/

schema S2 = literal : sql {
	entities 
		S1 
		S2
	attributes
		name  : S1 -&gt; String
		name  : S2 -&gt; String
}

constraints C2 = literal : S1 {
}

query Q2 = literal : S2 -&gt; T {
	entity T1 -&gt; {from s1:S1 s2:S2
		where s1.name = s2.name
		attributes id -&gt; s1.name  fk -&gt; s1.name	
	}

	entity T2 -&gt; {from s1:S1 s2:S2
		where s1.name = s2.name
		attributes id -&gt; s1.name  
	}
}

#command check2 = check_query Q2 C2 D

instance I2 = literal : S2 {
	generators
		s1 u1 : S1
		s2 u2 : S2
	equations
		s1.name = "Alice"
		s2.name = "Alice"
		u1.name = "Bill"
		u2.name = "Charlie"		
}

instance J2 = eval Q2 I2

command check2_redundant = check D J2

#####################################/

query Q3 = literal : T -&gt; T {
	entity T1 -&gt; {from t2:T2 
		attributes id -&gt; t2.id  fk -&gt; t2.id
	}

	entity T2 -&gt; {from t2:T2
		attributes id -&gt; t2.id  
	}
}

#command check3 = check_query Q3 D0 D

instance I3 = literal : T {
	generators
		t1 : T1
		t2 : T2
	equations
		t1.id = 0  t1.fk = 1  t2.id = 2	
}

instance J3 = eval Q3 I3

command check3_redundant = check D J3

#####################################

query Q4 = literal : T -&gt; T {
	entity T1 -&gt; {from t1:T1 t2:T2
		where t2.id = t1.fk
		attributes id -&gt; t1.id  fk -&gt; t2.id	
	}

	entity T2 -&gt; {from t2:T2
		attributes id -&gt; t2.id  
	}
}

#command check4 = check_query Q4 D0 D

instance I4 = literal : T {
	generators
		t1 t1x : T1
		t2 : T2
		
	equations
		t1.id = 0  t1.fk = 2 t2.id = 2
		t1x.id = 1

}

instance J4 = eval Q4 I4

command check4_redundant = check D J4

####################################/

query Q5 = literal : T -&gt; T {
	entity T1 -&gt; {from t1:T1 t2:T2
		attributes id -&gt; t1.id  fk -&gt; t2.id	
	}

	entity T2 -&gt; {from t2:T2
		attributes id -&gt; t2.id  
	}
}

#command check5 = check_query Q5 D0 D

instance J5 = eval Q5 I4

command check5_redundant = check D J5
</pre> Keywords:<br/></br>			<a href="constraintsconstraints_literal.html" >constraints_literal</a><br />
			<a href="schemaschema_literal.html" >schema_literal</a><br />
			<a href="instanceinstance_literal.html" >instance_literal</a><br />
			<a href="commandcheck.html" >check</a><br />
			<a href="queryquery_literal.html" >query_literal</a><br />
			<a href="instanceeval.html" >eval</a><br />
<br/>Options:<br/></br>
<br/></br>
<hr/><h3>instance I1</h3><div><table id="table530" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>S</b></caption><tr><th onclick="sortTable('table530', 0)">ID</th><th onclick="sortTable('table530', 1)">ssn</th></tr><tr><td>0</td><td>YYY-XXXX</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance J1</h3><div><table id="table531" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T1</b></caption><tr><th onclick="sortTable('table531', 0)">ID</th><th onclick="sortTable('table531', 1)">id</th><th onclick="sortTable('table531', 2)">fk</th></tr><tr><td>0</td><td>YYY-XXXX</td><td>YYY-XXXX</td></tr></table><table id="table532" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T2</b></caption><tr><th onclick="sortTable('table532', 0)">ID</th><th onclick="sortTable('table532', 1)">id</th></tr><tr><td>1</td><td>YYY-XXXX</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance I2</h3><div><table id="table533" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>S1</b></caption><tr><th onclick="sortTable('table533', 0)">ID</th><th onclick="sortTable('table533', 1)">name</th></tr><tr><td>0</td><td>Alice</td></tr><tr><td>1</td><td>Bill</td></tr></table><table id="table534" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>S2</b></caption><tr><th onclick="sortTable('table534', 0)">ID</th><th onclick="sortTable('table534', 1)">name</th></tr><tr><td>2</td><td>Alice</td></tr><tr><td>3</td><td>Charlie</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance J2</h3><div><table id="table535" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T1</b></caption><tr><th onclick="sortTable('table535', 0)">ID</th><th onclick="sortTable('table535', 1)">id</th><th onclick="sortTable('table535', 2)">fk</th></tr><tr><td>0</td><td>Alice</td><td>Alice</td></tr></table><table id="table536" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T2</b></caption><tr><th onclick="sortTable('table536', 0)">ID</th><th onclick="sortTable('table536', 1)">id</th></tr><tr><td>1</td><td>Alice</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance I3</h3><div><table id="table537" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T1</b></caption><tr><th onclick="sortTable('table537', 0)">ID</th><th onclick="sortTable('table537', 1)">id</th><th onclick="sortTable('table537', 2)">fk</th></tr><tr><td>0</td><td>0</td><td>1</td></tr></table><table id="table538" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T2</b></caption><tr><th onclick="sortTable('table538', 0)">ID</th><th onclick="sortTable('table538', 1)">id</th></tr><tr><td>1</td><td>2</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance J3</h3><div><table id="table539" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T1</b></caption><tr><th onclick="sortTable('table539', 0)">ID</th><th onclick="sortTable('table539', 1)">id</th><th onclick="sortTable('table539', 2)">fk</th></tr><tr><td>0</td><td>2</td><td>2</td></tr></table><table id="table540" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T2</b></caption><tr><th onclick="sortTable('table540', 0)">ID</th><th onclick="sortTable('table540', 1)">id</th></tr><tr><td>1</td><td>2</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance I4</h3><div><table id="table541" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T1</b></caption><tr><th onclick="sortTable('table541', 0)">ID</th><th onclick="sortTable('table541', 1)">id</th><th onclick="sortTable('table541', 2)">fk</th></tr><tr><td>0</td><td>0</td><td>2</td></tr><tr><td>1</td><td>1</td><td>?0</td></tr></table><table id="table542" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T2</b></caption><tr><th onclick="sortTable('table542', 0)">ID</th><th onclick="sortTable('table542', 1)">id</th></tr><tr><td>2</td><td>2</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance J4</h3><div><table id="table543" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T1</b></caption><tr><th onclick="sortTable('table543', 0)">ID</th><th onclick="sortTable('table543', 1)">id</th><th onclick="sortTable('table543', 2)">fk</th></tr><tr><td>0</td><td>0</td><td>2</td></tr></table><table id="table544" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T2</b></caption><tr><th onclick="sortTable('table544', 0)">ID</th><th onclick="sortTable('table544', 1)">id</th></tr><tr><td>1</td><td>2</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance J5</h3><div><table id="table545" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T1</b></caption><tr><th onclick="sortTable('table545', 0)">ID</th><th onclick="sortTable('table545', 1)">id</th><th onclick="sortTable('table545', 2)">fk</th></tr><tr><td>0</td><td>0</td><td>2</td></tr><tr><td>1</td><td>1</td><td>2</td></tr></table><table id="table546" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>T2</b></caption><tr><th onclick="sortTable('table546', 0)">ID</th><th onclick="sortTable('table546', 1)">id</th></tr><tr><td>2</td><td>2</td></tr></table></div><br style="clear:both;"/><hr/><h3>command check1_redundant</h3><pre>Satisfies</pre><hr/><h3>command check2_redundant</h3><pre>Satisfies</pre><hr/><h3>command check3_redundant</h3><pre>Satisfies</pre><hr/><h3>command check4_redundant</h3><pre>Satisfies</pre><hr/><h3>command check5_redundant</h3><pre>Satisfies</pre></body></html>