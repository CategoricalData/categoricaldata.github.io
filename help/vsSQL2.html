<html><head>
<link rel="stylesheet" href="http://categoricaldata.net/css/nstyle.css"><script src="http://categoricaldata.net/js/simple.js"></script></head><body><h1>example vsSQL2</h1><pre>
#Problem 2: starting from these schemas:
#
#create table Amphibian(id varchar(32) primary key not null,
#	name varchar(32),
#	land varchar(32) not null,
#	water varchar(32) not null);
#
#create table LandAnimal(id varchar(32) primary key not null,
#	name varchar(32));
#
#create table WaterAnimal(id varchar(32) primary key not null,
#	name varchar(32));
#
#alter table Amphibian add constraint a1 foreign key (land) references LandAnimal (id);
#alter table Amphibian add constraint a2 foreign key (water) references WaterAnimal (id);
#
#Sample data:
#
#insert into Amphibian  values ('a1','gecko','l1','w2'), ('a2','frog','l2', 'w3');
#insert into LandAnimal values ('l1','gecko'), ('l2','frog'), ('l3','human'), ('l4','cow'), ('l5','horse');
#insert into WaterAnimal values ('w1','fish'), ('w2','gecko'), ('w3','frog'), ('w4','dolphin');
#
#Populate the below schemas (the above, plus Animal table, plus 2 new columns in Animal and Amphibian) according to the rule:
#
# - an amphibian is an animal that is both a land animal and a water animal
#
#create table Amphibian(id varchar(32) primary key not null,
#	name varchar(32),
#	land varchar(32) not null,
#	water varchar(32) not null);
#
#create table LandAnimal(id varchar(32) primary key not null,
#	name varchar(32),
#	animal varchar(32) not null);
#
#create table WaterAnimal(id varchar(32) primary key not null,
#	name varchar(32),
#	animal varchar(32) not null);
#
#create table Animal(id varchar(32) primary key not null);
#
#alter table Amphibian add constraint a1 foreign key (land) references LandAnimal (id);
#alter table Amphibian add constraint a2 foreign key (water) references WaterAnimal (id);
#alter table LandAnimal add constraint l1 foreign key (animal) references Animal (id);
#alter table WaterAnimal add constraint w1 foreign key (animal) references Animal (id);



typeside Type = literal {
	external_types
		String -&gt; "java.lang.String"
	external_parsers
		String -&gt; "x =&gt; x"
}

schema C = literal : Type {
	entities
		Amphibian
		LandAnimal
		WaterAnimal
	foreign_keys
		IsAL: Amphibian -&gt; LandAnimal
		IsAW: Amphibian -&gt; WaterAnimal
	attributes
		attA: Amphibian -&gt; String
		attL: LandAnimal -&gt; String
		attW: WaterAnimal -&gt; String
}

schema D = literal : Type {
	entities
		yAmphibian
		yLandAnimal
		yWaterAnimal
		yAnimal
	foreign_keys
		yIsAL:yAmphibian-&gt;yLandAnimal
		yIsAW:yAmphibian-&gt;yWaterAnimal
		yIsALL:yLandAnimal-&gt;yAnimal
		yIsAWW:yWaterAnimal-&gt;yAnimal
	path_equations
		yAmphibian.yIsAL.yIsALL = yAmphibian.yIsAW.yIsAWW
	attributes
		yattA:yAmphibian-&gt;String
		yattL:yLandAnimal-&gt;String
		yattW:yWaterAnimal-&gt;String
}

mapping F = literal : C -&gt; D {
	entity
		Amphibian-&gt;yAmphibian
	foreign_keys
		IsAL -&gt; yIsAL
		IsAW -&gt; yIsAW
	attributes
		attA -&gt; yattA

	entity
		LandAnimal-&gt;yLandAnimal
	attributes
		attL -&gt; yattL

	entity
		WaterAnimal-&gt;yWaterAnimal
	attributes
		attW -&gt; yattW
}

instance I = literal : C {
	generators
		a1 a2 : Amphibian
		l1 l2 l3 l4 l5 : LandAnimal
		w1 w2 w3 w4 : WaterAnimal
	equations
		 attA(a1) = gecko attA(a2) = frog
		 attL(l1) = gecko attL(l2) = frog
		 attL(l3) = human attL(l4) = cow
		 attL(l5) = horse attW(w1) = fish
		 attW(w2) = gecko attW(w3) = frog
		 attW(w4) = dolphin IsAL(a1) = l1
		 IsAL(a2) = l2 IsAW(a1) = w2 IsAW(a2) = w3
}

instance J = sigma F I
</pre> Keywords:<br/></br>			<a href="typesidetypeside_literal.html" >typeside_literal</a><br />
			<a href="schemaschema_literal.html" >schema_literal</a><br />
			<a href="instancesigma.html" >sigma</a><br />
			<a href="instanceinstance_literal.html" >instance_literal</a><br />
			<a href="mappingmapping_literal.html" >mapping_literal</a><br />
<br/>Options:<br/></br>
<br/></br>
<hr/><h3>instance I</h3><div><table id="table664" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>Amphibian</b></caption><tr><th onclick="sortTable('table664', 0)">ID</th><th onclick="sortTable('table664', 1)">attA</th><th onclick="sortTable('table664', 2)">IsAL</th><th onclick="sortTable('table664', 3)">IsAW</th></tr><tr><td>0</td><td>gecko</td><td>2</td><td>7</td></tr><tr><td>1</td><td>frog</td><td>3</td><td>8</td></tr></table><table id="table665" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>LandAnimal</b></caption><tr><th onclick="sortTable('table665', 0)">ID</th><th onclick="sortTable('table665', 1)">attL</th></tr><tr><td>2</td><td>gecko</td></tr><tr><td>3</td><td>frog</td></tr><tr><td>4</td><td>human</td></tr><tr><td>5</td><td>cow</td></tr><tr><td>6</td><td>horse</td></tr></table><table id="table666" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>WaterAnimal</b></caption><tr><th onclick="sortTable('table666', 0)">ID</th><th onclick="sortTable('table666', 1)">attW</th></tr><tr><td>7</td><td>gecko</td></tr><tr><td>8</td><td>frog</td></tr><tr><td>9</td><td>fish</td></tr><tr><td>10</td><td>dolphin</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance J</h3><div><table id="table667" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>yAmphibian</b></caption><tr><th onclick="sortTable('table667', 0)">ID</th><th onclick="sortTable('table667', 1)">yattA</th><th onclick="sortTable('table667', 2)">yIsAL</th><th onclick="sortTable('table667', 3)">yIsAW</th></tr><tr><td>0</td><td>gecko</td><td>9</td><td>14</td></tr><tr><td>1</td><td>frog</td><td>10</td><td>15</td></tr></table><table id="table668" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>yAnimal</b></caption><tr><th onclick="sortTable('table668', 0)">ID</th></tr><tr><td>2</td></tr><tr><td>3</td></tr><tr><td>4</td></tr><tr><td>5</td></tr><tr><td>6</td></tr><tr><td>7</td></tr><tr><td>8</td></tr></table><table id="table669" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>yLandAnimal</b></caption><tr><th onclick="sortTable('table669', 0)">ID</th><th onclick="sortTable('table669', 1)">yattL</th><th onclick="sortTable('table669', 2)">yIsALL</th></tr><tr><td>9</td><td>gecko</td><td>2</td></tr><tr><td>10</td><td>frog</td><td>3</td></tr><tr><td>11</td><td>human</td><td>4</td></tr><tr><td>12</td><td>cow</td><td>5</td></tr><tr><td>13</td><td>horse</td><td>6</td></tr></table><table id="table670" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>yWaterAnimal</b></caption><tr><th onclick="sortTable('table670', 0)">ID</th><th onclick="sortTable('table670', 1)">yattW</th><th onclick="sortTable('table670', 2)">yIsAWW</th></tr><tr><td>14</td><td>gecko</td><td>2</td></tr><tr><td>15</td><td>frog</td><td>3</td></tr><tr><td>16</td><td>fish</td><td>7</td></tr><tr><td>17</td><td>dolphin</td><td>8</td></tr></table></div><br style="clear:both;"/></body></html>